import{_ as v,o as n,c as r,a as t,F as c,r as p,t as o,w as d,v as h,i as u,p as S,b as y,d as P,g as w,e as k,f as b,h as f,u as R,j as _,k as $,l as E}from"./index.29e7340a.js";const m=s=>(S("data-v-66677ef0"),s=s(),y(),s),A=m(()=>t("span",null,"Alla utvalda skills kr\xE4vs",-1)),I=m(()=>t("span",null,"System skills",-1)),M=["onClick"],C=["onClick"],L=m(()=>t("span",null,"Web skills",-1)),U=["onClick"],V=["onClick"],T=m(()=>t("span",null,"minsta pris kr",-1)),O=m(()=>t("span",null,"h\xF6gsta pris kr",-1)),W={data(){return{systemSkills:["assembly","c","c++","rust","c#","java","python","ruby"],selectedSystemSkills:["assembly","c","c++","rust","c#","java","python","ruby"],webSkills:["javascript","vue","svelte","react"],selectedWebSkills:["javascript","vue","svelte","react"],minPrice:0,maxPrice:1e8}},computed:{isSelectedEmpty(){return console.log(this.selectedSystemSkills.length===0&&this.selectedWebSkills.length===0),this.selectedSystemSkills.length===0&&this.selectedWebSkills.length===0}},methods:{updateMinPrice(){console.log("yo 1"),this.$emit("minPriceChange",this.minPrice)},updateMaxPrice(){console.log("yo 2"),this.$emit("maxPriceChange",this.maxPrice)},toggleAllSkills(){this.selectedSystemSkills.length===0&&this.selectedWebSkills.length===0?(this.selectedSystemSkills=[...this.systemSkills],this.selectedWebSkills=[...this.webSkills]):(this.selectedSystemSkills=[],this.selectedWebSkills=[]);let s=this.selectedSystemSkills.concat(this.selectedWebSkills);console.log("swag mone"),console.log(this.selectedSystemSkills),console.log(this.selectedWebSkills),this.$emit("toggleAllSkills",s)},filterSkill(s){this.changeSelectedSkills(s),this.$emit("skillChanged",s)},changeSelectedSkills(s){this.selectedSystemSkills.includes(s)?this.selectedSystemSkills.splice(this.selectedSystemSkills.indexOf(s),1):this.selectedWebSkills.includes(s)?this.selectedWebSkills.splice(this.selectedWebSkills.indexOf(s),1):this.systemSkills.includes(s)?this.selectedSystemSkills.push(s):this.selectedWebSkills.push(s)},allSkillsRequiredSwitch(){this.$emit("allSkillsRequiredSwitch")}}},j=Object.assign(W,{__name:"FilterTable",setup(s){return(e,l)=>(n(),r("div",null,[t("div",null,[t("input",{type:"checkbox",onClick:l[0]||(l[0]=(...i)=>e.allSkillsRequiredSwitch&&e.allSkillsRequiredSwitch(...i))}),A]),t("div",null,[e.isSelectedEmpty?(n(),r("button",{key:1,type:"button",onClick:l[2]||(l[2]=(...i)=>e.toggleAllSkills&&e.toggleAllSkills(...i))},"Checka alla skills")):(n(),r("button",{key:0,type:"button",onClick:l[1]||(l[1]=(...i)=>e.toggleAllSkills&&e.toggleAllSkills(...i))},"Unchecka alla skills"))]),I,(n(!0),r(c,null,p(e.systemSkills,i=>(n(),r("div",null,[e.selectedSystemSkills.includes(i)?(n(),r("input",{key:0,type:"checkbox",checked:"",onClick:a=>e.filterSkill(i)},null,8,M)):(n(),r("input",{key:1,type:"checkbox",unchecked:"",onClick:a=>e.filterSkill(i)},null,8,C)),t("span",null,o(i),1)]))),256)),L,(n(!0),r(c,null,p(e.webSkills,i=>(n(),r("div",null,[e.selectedWebSkills.includes(i)?(n(),r("input",{key:0,type:"checkbox",checked:"",onClick:a=>e.filterSkill(i)},null,8,U)):(n(),r("input",{key:1,type:"checkbox",unchecked:"",onClick:a=>e.filterSkill(i)},null,8,V)),t("span",null,o(i),1)]))),256)),t("div",null,[T,d(t("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=i=>u(minPrice)?minPrice.value=i:null),onInput:l[4]||(l[4]=(...i)=>e.updateMinPrice&&e.updateMinPrice(...i))},null,544),[[h,e.minPrice]]),O,d(t("input",{type:"number","onUpdate:modelValue":l[5]||(l[5]=i=>u(maxPrice)?maxPrice.value=i:null),onInput:l[6]||(l[6]=(...i)=>e.updateMaxPrice&&e.updateMaxPrice(...i))},null,544),[[h,e.maxPrice]])])]))}}),q=v(j,[["__scopeId","data-v-66677ef0"]]);const N=s=>(S("data-v-a582a533"),s=s(),y(),s),z={key:0,class:"addProgrammerare"},B={key:1,class:"programmerare"},Y={class:"programmerarecolumn"},F={class:"inputAndErrorMessage"},D={class:"errorMessage"},G={class:"inputAndErrorMessage"},H={class:"errorMessage"},J={class:"inputAndErrorMessage"},K={class:"errorMessage"},Q={class:"programmerarecolumn"},X={class:"inputAndErrorMessage"},Z={class:"errorMessage"},x={class:"inputAndErrorMessage"},ee={class:"errorMessage"},se={class:"inputAndErrorMessage"},ie={class:"errorMessage"},te={key:2,class:"addProgrammerare"},le=N(()=>t("button",{type:"button"},"Logga in f\xF6r att l\xE4gga till programmerare",-1)),ne=[le],re={data(){return{isLoggedIn:!1,uEmail:"",addingProgrammerare:!1,addingName:"",addingYrke:"",addingOrt:"",addingSkills:"",addingPrice:"",addingAboutUs:"",nameErr:"",yrkeErr:"",ortErr:"",skillsErr:"",priceErr:"",aboutUsErr:"",smallInputMaxLen:20,bigInputMaxLen:200,existingSkills:["assembly","c","c++","rust","c#","java","python","ruby","javascript","vue","svelte","react"]}},mounted(){P(w(),s=>{s?(console.log("logged in"),this.isLoggedIn=!0,this.uEmail=s.email,console.log(this.uEmail)):(console.log("logged out"),this.isLoggedIn=!1)})},methods:{beginAddingProgrammerare(){this.addingProgrammerare=!0},ResetAllInputs(){this.addingName="",this.addingYrke="",this.addingOrt="",this.addingSkills="",this.addingPrice="",this.addingAboutUs="",this.addingProgrammerare=!1,this.nameErr="",this.yrkeErr="",this.ortErr="",this.skillsErr="",this.priceErr="",this.aboutUsErr=""},addProgrammerare(){if(this.inputIsValid()){let s=this.addingSkills.split(" ");k.addProgrammerare(this.addingName,this.addingYrke,this.addingOrt,s,parseInt(this.addingPrice),this.addingAboutUs,this.uEmail),this.ResetAllInputs()}},inputIsValid(){if(this.nameErr=this.sanitizeStr(this.addingName,this.smallInputMaxLen),this.yrkeErr=this.sanitizeStr(this.addingYrke,this.smallInputMaxLen),this.ortErr=this.sanitizeStr(this.addingOrt,this.smallInputMaxLen),this.skillsErr=this.sanitizeStr(this.addingSkills,this.bigInputMaxLen),this.priceErr=this.sanitizeInt(this.addingPrice),this.aboutUsErr=this.sanitizeStr(this.addingAboutUs,this.bigInputMaxLen),this.skillsErr===""){let s=this.addingSkills.split(" ");this.skillsErr=this.sanitizeSkillsList(s)}return this.nameErr===""&&this.yrkeErr===""&&this.ortErr===""&&this.skillsErr===""&&this.aboutUsErr===""},sanitizeStr(s,e){return s.includes("<")||s.includes(">")||s.includes(";")||s.includes("-")?"ogiltiga tecken i inputen":s.length>e?"inputen \xE4r f\xF6r l\xE5ng":s.length===0?"saknar input":""},sanitizeInt(s){return s.length===0?"ogiltig input":""},sanitizeSkillsList(s){let e="";return s.forEach(l=>{this.existingSkills.includes(l)||(e===""&&(e="kunde inte hitta skill(s): "),e+=" "+l)}),e}}},ae=Object.assign(re,{__name:"AddProgrammerare",setup(s){return(e,l)=>(n(),r("div",null,[e.isLoggedIn&&!e.addingProgrammerare?(n(),r("div",z,[t("button",{type:"button",onClick:l[0]||(l[0]=(...i)=>e.beginAddingProgrammerare&&e.beginAddingProgrammerare(...i))},"L\xE4gg till programmerare")])):e.addingProgrammerare?(n(),r("div",B,[t("button",{onClick:l[1]||(l[1]=(...i)=>e.ResetAllInputs&&e.ResetAllInputs(...i))},"Avbryt och sl\xE4ng bort programmerare"),t("div",Y,[t("div",F,[d(t("input",{type:"text",placeholder:"namn","onUpdate:modelValue":l[2]||(l[2]=i=>u(addingName)?addingName.value=i:null)},null,512),[[h,e.addingName]]),t("span",D,o(e.nameErr),1)]),t("div",G,[d(t("input",{type:"text",placeholder:"yrke","onUpdate:modelValue":l[3]||(l[3]=i=>u(addingYrke)?addingYrke.value=i:null)},null,512),[[h,e.addingYrke]]),t("span",H,o(e.yrkeErr),1)]),t("div",J,[d(t("input",{type:"text",placeholder:"ort","onUpdate:modelValue":l[4]||(l[4]=i=>u(addingOrt)?addingOrt.value=i:null)},null,512),[[h,e.addingOrt]]),t("span",K,o(e.ortErr),1)])]),t("div",Q,[t("div",X,[d(t("input",{type:"text",placeholder:"skills (separera flera skills med mellanslag)","onUpdate:modelValue":l[5]||(l[5]=i=>u(addingSkills)?addingSkills.value=i:null)},null,512),[[h,e.addingSkills]]),t("span",Z,o(e.skillsErr),1)]),t("div",x,[d(t("input",{type:"number",placeholder:"pris (kr/m\xE5n)","onUpdate:modelValue":l[6]||(l[6]=i=>u(addingPrice)?addingPrice.value=i:null)},null,512),[[h,e.addingPrice]]),t("span",ee,o(e.priceErr),1)]),t("div",se,[d(t("input",{type:"textarea",placeholder:"beskriv vad ni g\xF6r och st\xE5r f\xF6r","onUpdate:modelValue":l[7]||(l[7]=i=>u(addingAboutUs)?addingAboutUs.value=i:null)},null,512),[[h,e.addingAboutUs]]),t("span",ie,o(e.aboutUsErr),1)])]),t("button",{onClick:l[8]||(l[8]=(...i)=>e.addProgrammerare&&e.addProgrammerare(...i))},"L\xE4gg till programmerare")])):(n(),r("div",te,ne))]))}}),oe=v(ae,[["__scopeId","data-v-a582a533"]]);const g=s=>(S("data-v-3cfe8550"),s=s(),y(),s),de={class:"body"},ue={class:"filterTable"},he=g(()=>t("span",null,"Sortera efter",-1)),ge=g(()=>t("option",{value:"reviews-false"},"Recensioner h\xF6gt-l\xE5gt",-1)),ce=g(()=>t("option",{value:"reviews-true"},"Recensioner l\xE5gt-h\xF6gt",-1)),pe=g(()=>t("option",{value:"price-false"},"Pris h\xF6gt-l\xE5gt",-1)),me=g(()=>t("option",{value:"price-true"},"Pris l\xE5gt-h\xF6gt",-1)),ke=[ge,ce,pe,me],ve={key:0,class:"emptyList"},Se=g(()=>t("span",null,"Laddar programmerare...",-1)),ye=[Se],be={key:1},fe={class:"programmerare"},_e={class:"programmerarecolumn"},Pe={class:"nameAndContact"},we={class:"programmerarecolumn"},Re=$(" skills: "),$e={class:"programmerarecolumn"},Ee=["onClick"],Ae={key:2},Ie=["onClick"],Me={key:5},Ce={key:0},Le={class:"programmerarecolumn"},Ue={key:0},Ve={key:1},Te={key:1,class:"programmerarecolumn"},Oe=g(()=>t("span",null,"po\xE4ng",-1)),We=E('<option value="1" data-v-3cfe8550>1</option><option value="2" data-v-3cfe8550>2</option><option value="3" data-v-3cfe8550>3</option><option value="4" data-v-3cfe8550>4</option><option value="5" data-v-3cfe8550>5</option>',5),je=[We],qe={key:2,class:"emptyList"},Ne=g(()=>t("span",null,"Ingenting matchade dina kriterier",-1)),ze=[Ne],Be=g(()=>t("div",null,null,-1)),Ye={data(){return{loading:!1,yrke:this.$route.params.ort==="all"?"":this.$route.params.ort,ort:this.$route.params.yrke==="all"?"":this.$route.params.yrke,sort:"",selectedSkills:["assembly","c","c++","rust","c#","java","python","ruby","javascript","vue","svelte","react"],minPrice:0,maxPrice:1e8,isAllSkillsRequired:!1,programmerare:[],currentReviewProg:"",showReviewsProg:"",rating:5,reviewText:"",isLoggedIn:!1,uEmail:""}},created(){this.updateList(),this.$watch(()=>this.$route.params,s=>{!s.ort||(this.yrke=s.ort,this.ort=s.yrke,this.ort==="all"&&(this.ort=""),this.yrke==="all"&&(this.yrke=""),this.updateList())})},mounted(){P(w(),s=>{s?(console.log("logged in"),this.isLoggedIn=!0,this.uEmail=s.email,console.log(this.uEmail)):(console.log("logged out"),this.isLoggedIn=!1)})},methods:{toggleAllSkills(s){this.selectedSkills=[...s],this.updateList()},filterSkill(s){let e=this.selectedSkills.indexOf(s);e===-1?this.selectedSkills.push(s):this.selectedSkills.splice(e,1),this.updateList()},changeMinPrice(s){this.minPrice=s,console.log("new minprice: "+this.minPrice),this.updateList()},changeMaxPrice(s){this.maxPrice=s,console.log("new maxprice: "+this.maxPrice),this.updateList()},allSkillsRequiredSwitch(){this.isAllSkillsRequired=!this.isAllSkillsRequired,this.updateList()},updateSort(){let s=this.sort.split("-");s[0]==="reviews"?this.sortByRating(s[1]==="true"):this.sortByPrice(s[1]==="true")},sortByRating(s){let e=this.getReversedValue(s);this.programmerare.sort((l,i)=>this.avgRating(l.reviews)>this.avgRating(i.reviews)?-1*e:this.avgRating(l.reviews)<this.avgRating(i.reviews)?1*e:0)},sortByPrice(s){let e=this.getReversedValue(s);this.programmerare.sort((l,i)=>l.price>i.price?-1*e:l.price<i.price?1*e:0)},getReversedValue(s){return s?-1:1},updateList(){this.programmerare=k.getFilteredResults(this.yrke,this.ort,this.selectedSkills,this.minPrice,this.maxPrice,this.isAllSkillsRequired)},avgRating(s){let e=0;return typeof s>"u"||(s.forEach(l=>e+=parseInt(l.rating)),e===0)?"inga recensioner \xE4n":Math.round(e/s.length*10)/10},showReviews(s){this.showReviewsProg=s,console.log(this.showReviewsProg)},hideReviews(){this.showReviewsProg=""},beginReview(s){this.currentReviewProg=s},cancelReview(){this.clearReviewVariables()},addReview(){k.addReview(this.currentReviewProg,this.rating,this.reviewText,this.uEmail),this.clearReviewVariables(),this.updateList()},clearReviewVariables(){this.currentReviewProg="",this.score=5,this.reviewText=""}}},Fe=Object.assign(Ye,{__name:"SearchResults",setup(s){return(e,l)=>(n(),r("div",de,[t("div",ue,[he,d(t("select",{"onUpdate:modelValue":l[0]||(l[0]=i=>u(sort)?sort.value=i:null),onChange:l[1]||(l[1]=(...i)=>e.updateSort&&e.updateSort(...i))},ke,544),[[b,e.sort]]),f(q,{onSkillChanged:e.filterSkill,onMinPriceChange:e.changeMinPrice,onMaxPriceChange:e.changeMaxPrice,onAllSkillsRequiredSwitch:e.allSkillsRequiredSwitch,onToggleAllSkills:e.toggleAllSkills},null,8,["onSkillChanged","onMinPriceChange","onMaxPriceChange","onAllSkillsRequiredSwitch","onToggleAllSkills"])]),R(k).programmerareIsLoaded?e.programmerare.length>0?(n(),r("div",be,[(n(!0),r(c,null,p(e.programmerare,i=>(n(),r("div",fe,[t("div",_e,[t("div",Pe,[t("span",null,"namn: "+o(i.name),1),t("span",null,"kontakt: "+o(i.contact),1)]),t("span",null," yrke: "+o(i.yrke),1),t("span",null," ort: "+o(i.ort),1)]),t("div",we,[t("span",null,[Re,(n(!0),r(c,null,p(i.skills,a=>(n(),r("span",null,o(a+" "),1))),256))]),t("span",null,"pris: "+o(i.price)+" kr/m\xE5n",1),t("span",null," om oss: "+o(i.aboutUs),1)]),t("div",$e,[t("span",null,"genomsnittlig recensionspo\xE4ng: "+o(e.avgRating(i.reviews)),1),i.reviews.length>0&&e.showReviewsProg!==i?(n(),r("button",{key:0,onClick:a=>e.showReviews(i)},"Visa recensioner",8,Ee)):e.showReviewsProg===i?(n(),r("button",{key:1,onClick:l[2]||(l[2]=(...a)=>e.hideReviews&&e.hideReviews(...a))},"D\xF6lj recensioner")):(n(),r("span",Ae)),i!==e.currentReviewProg&&e.isLoggedIn?(n(),r("button",{key:3,type:"button",onClick:a=>e.beginReview(i)},"l\xE4mna en recension",8,Ie)):i===e.currentReviewProg?(n(),r("button",{key:4,type:"button",onClick:l[3]||(l[3]=(...a)=>e.cancelReview&&e.cancelReview(...a))},"avbryt recension")):(n(),r("button",Me,"Logga in f\xF6r att l\xE4mna en recension"))]),i===e.showReviewsProg?(n(),r("div",Ce,[(n(!0),r(c,null,p(i.reviews,a=>(n(),r("div",Le,[t("span",null,"po\xE4ng: "+o(a.rating),1),a.reviewText!==""?(n(),r("span",Ue,"beskrivning: "+o(a.reviewText),1)):(n(),r("span",Ve,"beskrivning saknas")),t("span",null,"fr\xE5n: "+o(a.author),1)]))),256))])):_("",!0),i===e.currentReviewProg?(n(),r("div",Te,[t("div",null,[Oe,d(t("select",{"onUpdate:modelValue":l[4]||(l[4]=a=>u(rating)?rating.value=a:null)},je,512),[[b,e.rating]])]),d(t("input",{type:"text","onUpdate:modelValue":l[5]||(l[5]=a=>u(reviewText)?reviewText.value=a:null),placeholder:"beskrivning (frivilligt)"},null,512),[[h,e.reviewText]]),t("button",{type:"button",onClick:l[6]||(l[6]=(...a)=>e.addReview&&e.addReview(...a))},"l\xE4gg till recension")])):_("",!0)]))),256))])):(n(),r("div",qe,ze)):(n(),r("div",ve,ye)),Be,f(oe)]))}}),Ge=v(Fe,[["__scopeId","data-v-3cfe8550"]]);export{Ge as default};
